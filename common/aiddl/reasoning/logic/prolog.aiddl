(#mod self org.aiddl.common.reasoning.logic.prolog)

(#nms EVAL org.aiddl.eval)

(#req C   org.aiddl.common)
(#req FOL org.aiddl.common.reasoning.logic.first-order)

(#def PrologKBFile (has-type #self ^string))

(#def PrologKB
  (and
    (has-type #self ^set)
    (forall ?e #self
      (or
        (has-type ?e ^Atom@FOL)
        (has-type ?e ^$PrologKBFile)))))

(#def PrologQuery
  (and
    (has-type #self ^list)
    (forall ?e #self
      (has-type ?e ^Atom@FOL))))

(#def PrologAnswer
  (and
    (has-type #self ^list)
    (forall ?L #self
      (forall ?X:?V ?L
        (and
          (has-type ?X ^variable)
          (has-type ?V ^term) )))))

(#interface query (
  uri    : org.aiddl.common.reasoning.logic.prolog.query
  input  : (KeyValuedType@C [kb:^$PrologKB query:^$PrologQuery])
  output : ^$PrologAnswer
))